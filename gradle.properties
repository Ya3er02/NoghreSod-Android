# Gradle Properties - Performance & Stability Configuration
# Last updated: 2025-12-26

# ==========================
# JVM CONFIGURATION
# ==========================
# Allocate 4GB for build process
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=1g -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=./build/heap_dump.hprof

# ==========================
# BUILD OPTIMIZATION
# ==========================
# Enable daemon for faster builds
org.gradle.daemon=true

# Enable parallel compilation
org.gradle.parallel=true

# Max workers for parallel build
org.gradle.workers.max=8

# Configure on demand (only build what's needed)
org.gradle.configureondemand=true

# Enable build cache
org.gradle.caching=true

# ==========================
# KOTLIN COMPILATION
# ==========================
# Enable incremental Kotlin compilation
kotlin.incremental=true
kotlin.incremental.multiplatform=true
kotlin.incremental.js=true

# Use fast incremental compilation
kotlin.compiler.execution.strategy=daemon

# ==========================
# ANNOTATION PROCESSING
# ==========================
# Kapt optimizations
kapt.incremental.apt=true
kapt.use.worker.api=true
kapt.include.compile.classpath=false
kapt.classpath.snapshot.enabled=true

# ==========================
# ANDROID CONFIGURATION
# ==========================
# R8 Full Mode (aggressive optimization & obfuscation) - ISSUE #9
android.enableR8.fullMode=true

# New resource shrinking - ISSUE #9
android.enableResourceOptimizations=true

# Non-Transitive R Class (reduces build time)
android.nonTransitiveRClass=true

# Enable modular Desugaring (reduce dex size)
android.enableDesugaring=true

# Disable legacy multidex support (minSdk >= 21)
android.useLegacyMultiDex=false

# AndroidX migration
android.useAndroidX=true
android.enableJetifier=true

# ==========================
# TESTING CONFIGURATION
# ==========================
# Use AndroidX Test Runner
androidx.test.enabled=true

# ==========================
# NETWORK CONFIGURATION
# ==========================
# Disable HTTP for Maven (use HTTPS only)
systemProp.org.gradle.internal.http.socketTimeout=120000
systemProp.org.gradle.internal.http.connectionTimeout=120000

# ==========================
# DEBUG & RELEASE MODES
# ==========================
# API_KEY and other sensitive variables loaded from environment
# NEVER commit actual values!
# Set in local.properties or CI/CD secrets:
#
# RELEASE_KEYSTORE_PATH=/path/to/keystore
# KEYSTORE_PASSWORD=password
# KEY_ALIAS=alias
# KEY_PASSWORD=key_password
#
# For local development:
# export RELEASE_KEYSTORE_PATH="$HOME/.android/noghresod-release.keystore"
# export KEYSTORE_PASSWORD="your_password"
# export KEY_ALIAS="noghresod-key"
# export KEY_PASSWORD="key_password"
