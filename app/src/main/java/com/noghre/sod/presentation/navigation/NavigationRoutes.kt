package com.noghre.sod.presentation.navigation\n\nimport androidx.navigation.NavType\nimport androidx.navigation.navArgument\n\n/**\n * Type-safe navigation routes using sealed classes.\n * Eliminates string-based route errors and enables compile-time checking.\n */\nsealed class NavigationRoute(val route: String) {\n\n    // ============== HOME & PRODUCTS ==============\n\n    object Home : NavigationRoute(\"home\")\n\n    object Products : NavigationRoute(\"products\")\n\n    object ProductsByCategory : NavigationRoute(\"products_by_category/{category}\") {\n        const val ARG_CATEGORY = \"category\"\n\n        fun createRoute(category: String): String {\n            return \"products_by_category/$category\"\n        }\n\n        val arguments = listOf(\n            navArgument(ARG_CATEGORY) {\n                type = NavType.StringType\n            }\n        )\n    }\n\n    object ProductDetail : NavigationRoute(\"product_detail/{productId}\") {\n        const val ARG_PRODUCT_ID = \"productId\"\n\n        fun createRoute(productId: String): String {\n            return \"product_detail/$productId\"\n        }\n\n        val arguments = listOf(\n            navArgument(ARG_PRODUCT_ID) {\n                type = NavType.StringType\n            }\n        )\n    }\n\n    // ============== SEARCH ==============\n\n    object Search : NavigationRoute(\"search?query={query}\") {\n        const val ARG_QUERY = \"query\"\n\n        fun createRoute(query: String = \"\"): String {\n            return if (query.isBlank()) {\n                \"search\"\n            } else {\n                \"search?query=$query\"\n            }\n        }\n\n        val arguments = listOf(\n            navArgument(ARG_QUERY) {\n                type = NavType.StringType\n                nullable = true\n                defaultValue = null\n            }\n        )\n    }\n\n    // ============== FAVORITES ==============\n\n    object Favorites : NavigationRoute(\"favorites\")\n\n    // ============== CART & CHECKOUT ==============\n\n    object Cart : NavigationRoute(\"cart\")\n\n    object Checkout : NavigationRoute(\"checkout\")\n\n    // ============== ORDERS ==============\n\n    object Orders : NavigationRoute(\"orders\")\n\n    object OrderDetail : NavigationRoute(\"order_detail/{orderId}\") {\n        const val ARG_ORDER_ID = \"orderId\"\n\n        fun createRoute(orderId: String): String {\n            return \"order_detail/$orderId\"\n        }\n\n        val arguments = listOf(\n            navArgument(ARG_ORDER_ID) {\n                type = NavType.StringType\n            }\n        )\n    }\n\n    // ============== AUTHENTICATION ==============\n\n    object Login : NavigationRoute(\"login\")\n\n    object Register : NavigationRoute(\"register\")\n\n    object ForgotPassword : NavigationRoute(\"forgot_password\")\n\n    // ============== PROFILE ==============\n\n    object Profile : NavigationRoute(\"profile\")\n\n    object EditProfile : NavigationRoute(\"edit_profile\")\n\n    object Addresses : NavigationRoute(\"addresses\")\n\n    object AddAddress : NavigationRoute(\"add_address\")\n\n    object EditAddress : NavigationRoute(\"edit_address/{addressId}\") {\n        const val ARG_ADDRESS_ID = \"addressId\"\n\n        fun createRoute(addressId: String): String {\n            return \"edit_address/$addressId\"\n        }\n\n        val arguments = listOf(\n            navArgument(ARG_ADDRESS_ID) {\n                type = NavType.StringType\n            }\n        )\n    }\n\n    // ============== SETTINGS ==============\n\n    object Settings : NavigationRoute(\"settings\")\n\n    object About : NavigationRoute(\"about\")\n\n    object TermsAndConditions : NavigationRoute(\"terms_and_conditions\")\n\n    object PrivacyPolicy : NavigationRoute(\"privacy_policy\")\n}\n\n/**\n * Extension function to navigate with type-safe routes.\n * Provides better error handling and compile-time safety.\n */\nfun androidx.navigation.NavController.navigateSafe(\n    route: NavigationRoute,\n    builder: androidx.navigation.NavOptionsBuilder.() -> Unit = {}\n) {\n    try {\n        this.navigate(route.route, builder)\n    } catch (e: Exception) {\n        timber.log.Timber.e(e, \"Navigation failed: ${route.route}\")\n    }\n}\n"